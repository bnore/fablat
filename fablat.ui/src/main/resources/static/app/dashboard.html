<div ng-controller="DashboardCtrl">
	
	<section style="max-width: 75%; margin: auto;">
		<md-content layout-fill>
			<md-card>  			
				<md-card-title ng-cloak>
					<md-card-title-media style="margin-top: 0; margin-right: 13px;">
						<user-avatar fabber="fabber" avatar-w="60" avatar-h="60"></user-avatar>
					</md-card-title-media>
					<md-card-title-text>
						<span class="md-headline">{{fabber.firstName}} {{fabber.lastName}}</span>
						<span class="md-subhead">{{fabber.isNomade ? "Fab Nomade" : fabber.labName}} ~ {{fabber.email}}</span>
						<span class="font-size-3">{{fabber.isFabAcademyGrad ? "Fab Academy " + fabber.fabAcademyGradYear + " Graduated" : "-"}}</span>
					</md-card-title-text>
		        </md-card-title>		        		 
			</md-card>
		</md-content>
	</section>
	
	<section style="max-width: 75%; margin: auto;">
		<md-content layout-fill>
			<md-card>
				<md-card-content>  		  				
					<h4 class="md-subhead color-1" style="margin-top: 0;">Your stats</h4>
					
					<div class="font-size-5" style="margin-bottom: 10px;"><span class="">Overall score: </span><span class="color-2">25</span></div>
					
					<div layout="row" layout-sm="column" layout-align="space-around" ng-show="loading2">
	    				<md-progress-circular md-mode="indeterminate"></md-progress-circular>
	  				</div>
	  				
					<div layout="row" flex ng-cloak ng-show="!loading2">
						<div class="font-size-3" layout="column" flex>
							<div><span class="">Nº Projects as coordinator: </span><span class="color-2">{{stats.nWorkshopsCoordinator}}</span></div>
							<div><span class="">Nº Projects as collaborator: </span><span class="color-2">{{stats.nWorkshopsCollaborator}}</span></div>
						</div>
						<div class="font-size-3" layout="column" flex>
							<div><span class="">Nº Replications as coordinator: </span><span class="color-2">{{stats.nReplicationsCoordinator}}</span></div>
							<div><span class="">Nº Replications as collaborator: </span><span class="color-2">{{stats.nReplicationsCollaborator}}</span></div>
						</div>					
					</div>					
                </md-card-content> 		 
			</md-card>
		</md-content>
	</section>
	
	<section style="max-width: 75%; margin: auto;">
		<md-content layout="row" layout-fill>
			<md-card flex>
				<md-card-content>  	
					<h4 class="md-subhead color-1" style="margin-top: 0;">Your projects</h4>
					
					<div layout="row" layout-sm="column" layout-align="space-around" ng-show="loading3">
	    				<md-progress-circular md-mode="indeterminate"></md-progress-circular>
	  				</div>
					
					<p class="centered font-size-3 color-1" ng-if="projects.length === 0">No items to show.</p>
					
					<md-list class="md-dense" ng-cloak> 
						<md-list-item class="md-2-line secondary-button-padding" ng-repeat="item in projects">
							<div class="md-list-item-text" layout="column">
								<p><a ui-sref="projectDetail({idProject: item.idProject})" class="font-size-4 custom-anchor-1">{{item.name}}</a> <span class="font-size-2 color-1">{{item.lineName}}</span></p>
					            <h4>{{item.membersCount}} {{item.membersCount > 1 ? "members" : "member"}}</h4>
					        </div>
						     
						    <md-divider hide-sm ng-if="!$last"></md-divider>
							<md-divider hide-gt-sm ng-if="!$last"></md-divider>
						</md-list-item>
					</md-list>				
                </md-card-content>  		 
			</md-card>
			<md-card flex>
				<md-card-content>
					<h4 class="md-subhead color-1" style="margin-top: 0;">Your workshops</h4>
					
					<div layout="row" layout-sm="column" layout-align="space-around" ng-show="loading4">
	    				<md-progress-circular md-mode="indeterminate"></md-progress-circular>
	  				</div>
					
					<p class="centered font-size-3 color-1" ng-if="workshops.length === 0">No items to show.</p>
					
					<md-list class="md-dense" ng-cloak> 
						<md-list-item class="md-3-line secondary-button-padding" ng-repeat="item in workshops">
							<div class="md-list-item-text" layout="column">
					            <h3><a ui-sref="workshopDetail({idWorkshop: item.idWorkshop})" class="font-size-4 custom-anchor-1">{{item.projectName}}: Replication {{item.replicationNumber}}</a></h3>
					            <h4>{{item.dateTime}} - {{item.membersCount}} member{{item.membersCount > 1 ? "s" : ""}} organizing</h4>
					            <p>{{item.isPaid ? item.price + " " + item.currency : "FREE"}}</p>
					        </div>
						     
						    <md-divider hide-sm ng-if="!$last"></md-divider>
							<md-divider hide-gt-sm ng-if="!$last"></md-divider>
						</md-list-item>
					</md-list> 
                </md-card-content>  		 
			</md-card>
		</md-content>
	</section>
</div>